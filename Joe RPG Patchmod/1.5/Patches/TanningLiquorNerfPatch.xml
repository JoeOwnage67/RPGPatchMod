<?xml version="1.0" encoding="utf-8"?>

<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>DankPyon.Medieval.Overhaul</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>

			<!-- tanning rack runs out of liquor less often -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DankPyon_TanningRack"]</xpath>
					<value>
					<ThingDef ParentName="BuildingBase">
							<defName>DankPyon_TanningRack</defName>
							<label>tanning rack</label>
							<description>A standing rack for treating raw hides to become soft and beautiful leathers.</description>
							<thingClass>Building_WorkTable</thingClass>
							<drawerType>MapMeshAndRealTime</drawerType>
							<graphicData>
								<texPath>Production/TanningRack/TanningRack</texPath>
								<graphicClass>Graphic_Multi</graphicClass>
								<shaderType>CutoutComplex</shaderType>
								<drawSize>(4,3)</drawSize>
								<damageData>
									<cornerTL>Damage/Corner</cornerTL>
									<cornerTR>Damage/Corner</cornerTR>
									<cornerBL>Damage/Corner</cornerBL>
									<cornerBR>Damage/Corner</cornerBR>
								</damageData>
							</graphicData>
							<stuffCategories>
								<li>DankPyon_RawWood</li>
							</stuffCategories>
							<costStuffCount>30</costStuffCount>
							<altitudeLayer>Building</altitudeLayer>
							<fillPercent>0.5</fillPercent>
							<useHitPoints>True</useHitPoints>
							<statBases>
								<WorkToBuild>600</WorkToBuild>
								<MaxHitPoints>100</MaxHitPoints>
								<Flammability>1.0</Flammability>
								<Cleanliness>-30</Cleanliness>
							</statBases>
							<size>(2,1)</size>
							<designationCategory>Production</designationCategory>
							<passability>PassThroughOnly</passability>
							<pathCost>50</pathCost>
							<hasInteractionCell>True</hasInteractionCell>
							<interactionCellOffset>(0,0,-1)</interactionCellOffset>
							<surfaceType>Item</surfaceType>
							<comps Inherit="false">
								<li Class="ProcessorFramework.CompProperties_Processor">
									<capacity>1</capacity>
									<independentProcesses>false</independentProcesses>
									<parallelProcesses>false</parallelProcesses>
									<dropIngredients>true</dropIngredients>
									<showProductIcon>true</showProductIcon>
									<barOffset>(0.0, 0.25)</barOffset>
									<barScale>(1.0, 1.0)</barScale>
									<colorCoded>false</colorCoded>
									<processes>
										<li>DankPyon_HidesProcess</li>
										<li>DankPyon_HyenaRugProcess</li>
										<li>DankPyon_WolfTimberRugProcess</li>
										<li>DankPyon_WolfArcticRugProcess</li>
										<li>DankPyon_CougarRugProcess</li>
										<li>DankPyon_PantherRugProcess</li>
										<li>DankPyon_BearGrizzlyRugProcess</li>
										<li>DankPyon_BearPolarRugProcess</li>
										<li>DankPyon_RoxRugProcess</li>
										<li>DankPyon_ThrumboRugProcess</li>
										<li>DankPyon_DaerRugProcess</li>
									</processes>
								</li>
								<li Class="CompProperties_Forbiddable"/>
								<li Class="CompProperties_Refuelable">
									<fuelConsumptionRate>1.0</fuelConsumptionRate>
									<fuelCapacity>100.0</fuelCapacity>
									<fuelFilter>
										<thingDefs>
											<li>DankPyon_TanningLiquor</li>
										</thingDefs>
									</fuelFilter>
									<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
									<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
								</li>
							</comps>
							<tickerType>Rare</tickerType>
							<placeWorkers>
								<li>PlaceWorker_PreventInteractionSpotOverlap</li>
							</placeWorkers>
							<techLevel>Medieval</techLevel>
							<researchPrerequisites>
								<li>DankPyon_LeatherTanning</li>
							</researchPrerequisites>
						</ThingDef>
					</value>
				</li>
       	    </operations>
        </match>
    </Operation>
</Patch>